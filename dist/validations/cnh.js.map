{"version":3,"file":"cnh.js","names":["utils","name","value","cnhCalc","partial","s","i","j","length","parseInt","leftover","re","field","valid","cnh","removeWhiteSpace","test","substr","dv1","dv2"],"sources":["../../src/validations/cnh.js"],"sourcesContent":["import utils from \"../utils/utils\";\n\nexport default (name, value) => {\n\n  const cnhCalc = function(partial) {\n    let s = 0;\n    for (let i = 0 , j = 2; i < partial.length ; i++, j++) {\n      s += parseInt(partial[i]) * j;\n    }\n\n    const leftover = s % 11;\n    return (leftover <= 1) ? 0 : (11 - leftover);\n  };\n\n  const re = /^[0-9]*$/;\n\n  let field = {\n    name: name,\n    valid: false\n  };\n\n  let cnh = utils.removeWhiteSpace(value);\n\n  if (cnh.length > 11 || cnh.length <= 3) return field;\n  if (!re.test(cnh)) return field;\n\n  const partial = value.substr(0, 9);\n  \n  const dv1 = cnhCalc(partial);\n  const dv2 = cnhCalc(dv1 + partial);\n\n  field.valid = \"\" + dv1 + dv2 === value.substr(-2);\n  \n  return field;\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,gBAAgB;AAElC,gBAAe,CAACC,IAAI,EAAEC,KAAK,KAAK;EAE9B,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAYC,OAAO,EAAE;IAChC,IAAIC,CAAC,GAAG,CAAC;IACT,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAGC,CAAC,GAAG,CAAC,EAAED,CAAC,GAAGF,OAAO,CAACI,MAAM,EAAGF,CAAC,EAAE,EAAEC,CAAC,EAAE,EAAE;MACrDF,CAAC,IAAII,QAAQ,CAACL,OAAO,CAACE,CAAC,CAAC,CAAC,GAAGC,CAAC;IAC/B;IAEA,IAAMG,QAAQ,GAAGL,CAAC,GAAG,EAAE;IACvB,OAAQK,QAAQ,IAAI,CAAC,GAAI,CAAC,GAAI,EAAE,GAAGA,QAAS;EAC9C,CAAC;EAED,IAAMC,EAAE,GAAG,UAAU;EAErB,IAAIC,KAAK,GAAG;IACVX,IAAI,EAAEA,IAAI;IACVY,KAAK,EAAE;EACT,CAAC;EAED,IAAIC,GAAG,GAAGd,KAAK,CAACe,gBAAgB,CAACb,KAAK,CAAC;EAEvC,IAAIY,GAAG,CAACN,MAAM,GAAG,EAAE,IAAIM,GAAG,CAACN,MAAM,IAAI,CAAC,EAAE,OAAOI,KAAK;EACpD,IAAI,CAACD,EAAE,CAACK,IAAI,CAACF,GAAG,CAAC,EAAE,OAAOF,KAAK;EAE/B,IAAMR,OAAO,GAAGF,KAAK,CAACe,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EAElC,IAAMC,GAAG,GAAGf,OAAO,CAACC,OAAO,CAAC;EAC5B,IAAMe,GAAG,GAAGhB,OAAO,CAACe,GAAG,GAAGd,OAAO,CAAC;EAElCQ,KAAK,CAACC,KAAK,GAAG,EAAE,GAAGK,GAAG,GAAGC,GAAG,KAAKjB,KAAK,CAACe,MAAM,CAAC,CAAC,CAAC,CAAC;EAEjD,OAAOL,KAAK;AACd,CAAC"}